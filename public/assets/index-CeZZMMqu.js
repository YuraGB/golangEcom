import{a as he,A as M,r as d,C as be,j as s,D as xe,E as _,G as I,H as D,J as V,K as q,L as Re,M as ye,O as ge,Q as Ie,c as F,w as z,z as $,x as C,l as Se,t as Ce,F as _e,m as Fe,n as P,o as k,p as A,q as we,B as je}from"./index-Cz0sLFk-.js";import{S as Ee}from"./index-B3u2qBW5.js";import"./index-fNE1NQ_o.js";import"./index-INRSh1vM.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pe=he("Circle",Ne);var G="rovingFocusGroup.onEntryFocus",ke={bubbles:!1,cancelable:!0},w="RovingFocusGroup",[T,Y,Ae]=be(w),[Ge,H]=M(w,[Ae]),[Te,Me]=Ge(w),J=d.forwardRef((e,t)=>s.jsx(T.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(T.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(De,{...e,ref:t})})}));J.displayName=w;var De=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:r,loop:n=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:u,onEntryFocus:i,preventScrollOnEntryFocus:v=!1,...p}=e,h=d.useRef(null),m=D(t,h),l=V(a),[b=null,R]=q({prop:c,defaultProp:f,onChange:u}),[y,g]=d.useState(!1),j=Re(i),le=Y(o),E=d.useRef(!1),[de,K]=d.useState(0);return d.useEffect(()=>{const x=h.current;if(x)return x.addEventListener(G,j),()=>x.removeEventListener(G,j)},[j]),s.jsx(Te,{scope:o,orientation:r,dir:l,loop:n,currentTabStopId:b,onItemFocus:d.useCallback(x=>R(x),[R]),onItemShiftTab:d.useCallback(()=>g(!0),[]),onFocusableItemAdd:d.useCallback(()=>K(x=>x+1),[]),onFocusableItemRemove:d.useCallback(()=>K(x=>x-1),[]),children:s.jsx(_.div,{tabIndex:y||de===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{E.current=!0}),onFocus:I(e.onFocus,x=>{const fe=!E.current;if(x.target===x.currentTarget&&fe&&!y){const U=new CustomEvent(G,ke);if(x.currentTarget.dispatchEvent(U),!U.defaultPrevented){const N=le().filter(S=>S.focusable),pe=N.find(S=>S.active),me=N.find(S=>S.id===b),ve=[pe,me,...N].filter(Boolean).map(S=>S.ref.current);X(ve,v)}}E.current=!1}),onBlur:I(e.onBlur,()=>g(!1))})})}),Q="RovingFocusGroupItem",W=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:r=!0,active:n=!1,tabStopId:a,...c}=e,f=xe(),u=a||f,i=Me(Q,o),v=i.currentTabStopId===u,p=Y(o),{onFocusableItemAdd:h,onFocusableItemRemove:m}=i;return d.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),s.jsx(T.ItemSlot,{scope:o,id:u,focusable:r,active:n,children:s.jsx(_.span,{tabIndex:v?0:-1,"data-orientation":i.orientation,...c,ref:t,onMouseDown:I(e.onMouseDown,l=>{r?i.onItemFocus(u):l.preventDefault()}),onFocus:I(e.onFocus,()=>i.onItemFocus(u)),onKeyDown:I(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){i.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const b=Ke(l,i.orientation,i.dir);if(b!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let y=p().filter(g=>g.focusable).map(g=>g.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const g=y.indexOf(l.currentTarget);y=i.loop?Ue(y,g+1):y.slice(g+1)}setTimeout(()=>X(y))}})})})});W.displayName=Q;var Oe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Le(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ke(e,t,o){const r=Le(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Oe[r]}function X(e,t=!1){const o=document.activeElement;for(const r of e)if(r===o||(r.focus({preventScroll:t}),document.activeElement!==o))return}function Ue(e,t){return e.map((o,r)=>e[(t+r)%e.length])}var $e=J,Be=W,O="Radio",[Ve,Z]=M(O),[qe,ze]=Ve(O),ee=d.forwardRef((e,t)=>{const{__scopeRadio:o,name:r,checked:n=!1,required:a,disabled:c,value:f="on",onCheck:u,form:i,...v}=e,[p,h]=d.useState(null),m=D(t,R=>h(R)),l=d.useRef(!1),b=p?i||!!p.closest("form"):!0;return s.jsxs(qe,{scope:o,checked:n,disabled:c,children:[s.jsx(_.button,{type:"button",role:"radio","aria-checked":n,"data-state":re(n),"data-disabled":c?"":void 0,disabled:c,value:f,...v,ref:m,onClick:I(e.onClick,R=>{n||u==null||u(),b&&(l.current=R.isPropagationStopped(),l.current||R.stopPropagation())})}),b&&s.jsx(Ye,{control:p,bubbles:!l.current,name:r,value:f,checked:n,required:a,disabled:c,form:i,style:{transform:"translateX(-100%)"}})]})});ee.displayName=O;var te="RadioIndicator",oe=d.forwardRef((e,t)=>{const{__scopeRadio:o,forceMount:r,...n}=e,a=ze(te,o);return s.jsx(Ie,{present:r||a.checked,children:s.jsx(_.span,{"data-state":re(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})})});oe.displayName=te;var Ye=e=>{const{control:t,checked:o,bubbles:r=!0,...n}=e,a=d.useRef(null),c=ye(o),f=ge(t);return d.useEffect(()=>{const u=a.current,i=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(i,"checked").set;if(c!==o&&p){const h=new Event("click",{bubbles:r});p.call(u,o),u.dispatchEvent(h)}},[c,o,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:a,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function re(e){return e?"checked":"unchecked"}var He=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[Je,bt]=M(L,[H,Z]),ne=H(),se=Z(),[Qe,We]=Je(L),ae=d.forwardRef((e,t)=>{const{__scopeRadioGroup:o,name:r,defaultValue:n,value:a,required:c=!1,disabled:f=!1,orientation:u,dir:i,loop:v=!0,onValueChange:p,...h}=e,m=ne(o),l=V(i),[b,R]=q({prop:a,defaultProp:n,onChange:p});return s.jsx(Qe,{scope:o,name:r,required:c,disabled:f,value:b,onValueChange:R,children:s.jsx($e,{asChild:!0,...m,orientation:u,dir:l,loop:v,children:s.jsx(_.div,{role:"radiogroup","aria-required":c,"aria-orientation":u,"data-disabled":f?"":void 0,dir:l,...h,ref:t})})})});ae.displayName=L;var ce="RadioGroupItem",ie=d.forwardRef((e,t)=>{const{__scopeRadioGroup:o,disabled:r,...n}=e,a=We(ce,o),c=a.disabled||r,f=ne(o),u=se(o),i=d.useRef(null),v=D(t,i),p=a.value===n.value,h=d.useRef(!1);return d.useEffect(()=>{const m=b=>{He.includes(b.key)&&(h.current=!0)},l=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",l),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",l)}},[]),s.jsx(Be,{asChild:!0,...f,focusable:!c,active:p,children:s.jsx(ee,{disabled:c,required:a.required,checked:p,...u,...n,name:a.name,ref:v,onCheck:()=>a.onValueChange(n.value),onKeyDown:I(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:I(n.onFocus,()=>{var m;h.current&&((m=i.current)==null||m.click())})})})});ie.displayName=ce;var Xe="RadioGroupIndicator",ue=d.forwardRef((e,t)=>{const{__scopeRadioGroup:o,...r}=e,n=se(o);return s.jsx(oe,{...n,...r,ref:t})});ue.displayName=Xe;var Ze=ae,et=ie,tt=ue;function ot(e){const t=F.c(8);let o,r;t[0]!==e?({className:o,...r}=e,t[0]=e,t[1]=o,t[2]=r):(o=t[1],r=t[2]);let n;t[3]!==o?(n=z("grid gap-3",o),t[3]=o,t[4]=n):n=t[4];let a;return t[5]!==r||t[6]!==n?(a=s.jsx(Ze,{"data-slot":"radio-group",className:n,...r}),t[5]=r,t[6]=n,t[7]=a):a=t[7],a}function B(e){const t=F.c(9);let o,r;t[0]!==e?({className:o,...r}=e,t[0]=e,t[1]=o,t[2]=r):(o=t[1],r=t[2]);let n;t[3]!==o?(n=z("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),t[3]=o,t[4]=n):n=t[4];let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(tt,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(Pe,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})}),t[5]=a):a=t[5];let c;return t[6]!==r||t[7]!==n?(c=s.jsx(et,{"data-slot":"radio-group-item",className:n,...r,children:a}),t[6]=r,t[7]=n,t[8]=c):c=t[8],c}const rt=$.object({type:$.enum(["card","cash"],{required_error:"You need to select a payment method."})}),nt=()=>{const e=F.c(9),t=C(st),o=C(at),r=C(ct),n=C(it);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={resolver:Ce(rt)},e[0]=a):a=e[0];const c=Se(a);let f;e[1]!==t||e[2]!==o?(f=function(p){t({type:p.type,completed:!0}),o(4)},e[1]=t,e[2]=o,e[3]=f):f=e[3];const u=f;let i;return e[4]!==r||e[5]!==c||e[6]!==n||e[7]!==u?(i={form:c,onSubmit:u,currentStep:r,isCompleted:n},e[4]=r,e[5]=c,e[6]=n,e[7]=u,e[8]=i):i=e[8],i};function st(e){return e.setPaymentMethod}function at(e){return e.setStep}function ct(e){return e.step}function it(e){return e.paymentMethod.completed}const ut=()=>{const e=F.c(3),t=C(lt);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h3",{className:"font-bold flex",children:"Payment method summary:"}),e[0]=o):o=e[0];const r=`Payment method: ${t.type}`;let n;return e[1]!==r?(n=s.jsx(Ee,{editStep:3,children:s.jsxs("section",{className:"pb-8",children:[o,s.jsx("p",{children:r})]})}),e[1]=r,e[2]=n):n=e[2],n};function lt(e){return e.paymentMethod}function xt(){const e=F.c(13),{onSubmit:t,form:o,currentStep:r,isCompleted:n}=nt();if(r!==3&&n){let v;return e[0]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(ut,{}),e[0]=v):v=e[0],v}if(r!==3&&!n)return null;let a;e[1]!==o||e[2]!==t?(a=o.handleSubmit(t),e[1]=o,e[2]=t,e[3]=a):a=e[3];let c;e[4]!==o.control?(c=s.jsx(_e,{control:o.control,name:"type",render:dt}),e[4]=o.control,e[5]=c):c=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(je,{type:"submit",children:"Submit"}),e[6]=f):f=e[6];let u;e[7]!==a||e[8]!==c?(u=s.jsxs("form",{onSubmit:a,className:"w-2/3 space-y-6",children:[c,f]}),e[7]=a,e[8]=c,e[9]=u):u=e[9];let i;return e[10]!==o||e[11]!==u?(i=s.jsx(Fe,{...o,children:u}),e[10]=o,e[11]=u,e[12]=i):i=e[12],i}function dt(e){const{field:t}=e;return s.jsxs(P,{className:"space-y-3",children:[s.jsx(k,{className:"block",children:"Choose payment method:"}),s.jsx(A,{children:s.jsxs(ot,{onValueChange:t.onChange,defaultValue:t.value,className:"flex flex-col space-y-1",children:[s.jsxs(P,{className:"flex items-center space-x-3 space-y-0",children:[s.jsx(A,{children:s.jsx(B,{value:"cash"})}),s.jsx(k,{className:"font-normal",children:"Cash on delivery"})]}),s.jsxs(P,{className:"flex items-center space-x-3 space-y-0",children:[s.jsx(A,{children:s.jsx(B,{value:"card"})}),s.jsx(k,{className:"font-normal",children:"Card payment"})]})]})}),s.jsx(we,{})]})}export{xt as default};
