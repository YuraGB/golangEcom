import{c as m,u as P,i as g,k as x,b as h,r as p,f as y,j as f}from"./index-Cz0sLFk-.js";import{P as j}from"./index-CP8KZI2w.js";const _=e=>{const t=m.c(7),r=e===void 0?!0:e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=["profile"],t[0]=i):i=t[0];const o=!r;let s;t[1]!==o?(s={queryKey:i,queryFn:b,enabled:o},t[1]=o,t[2]=s):s=t[2];const{data:c,error:l,isLoading:a}=P(s);let n;return t[3]!==l||t[4]!==a||t[5]!==c?(n={profileData:c,errorProfileData:l,loadingProfile:a},t[3]=l,t[4]=a,t[5]=c,t[6]=n):n=t[6],n};async function b(){return(await g.get("/profile")).data}const E=()=>{const e=m.c(13),t=x(),{currentUser:r,setCurrentUser:i}=h(),{profileData:o,errorProfileData:s,loadingProfile:c}=_(!!(r!=null&&r.id));let l,a;e[0]!==r||e[1]!==s||e[2]!==t?(l=()=>{s&&!r&&(y.error("Access denied",{description:"You can't access to this page"}),t("/"))},a=[s,r,t],e[0]=r,e[1]=s,e[2]=t,e[3]=l,e[4]=a):(l=e[3],a=e[4]),p.useEffect(l,a);let n,u;e[5]!==o||e[6]!==i?(n=()=>{o!=null&&o.id&&i(o)},u=[o,i],e[5]=o,e[6]=i,e[7]=n,e[8]=u):(n=e[7],u=e[8]),p.useEffect(n,u);let d;return e[9]!==r||e[10]!==s||e[11]!==c?(d={currentUser:r,errorProfileData:s,loadingProfile:c},e[9]=r,e[10]=s,e[11]=c,e[12]=d):d=e[12],d},S=()=>{const e=m.c(3),{currentUser:t,loadingProfile:r}=E();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=f.jsx(j,{title:"Profile"}),e[0]=i):i=e[0];const o=r?"Loading":t==null?void 0:t.userName;let s;return e[1]!==o?(s=f.jsxs(f.Fragment,{children:[i,f.jsx("article",{children:f.jsx("h2",{children:o})})]}),e[1]=o,e[2]=s):s=e[2],s},v=()=>{const e=m.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=f.jsx(S,{}),e[0]=t):t=e[0],t};export{v as default};
