import{a as D,c as N,u as R,i as B,v as z,j as c,w as $,R as S,g as q,h as C,e as I,f as L,b as Q,B as U}from"./index-Cz0sLFk-.js";import{P as F}from"./index-CP8KZI2w.js";import{C as K}from"./index-INRSh1vM.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],W=D("Star",M),O=t=>{const e=N.c(11);let r,a;e[0]!==t?(r=["product",t],a=async u=>{const{signal:m}=u,{data:f}=await B.get(`/products/${t}`,{signal:m});return f},e[0]=t,e[1]=r,e[2]=a):(r=e[1],a=e[2]);const s=!!t;let n;e[3]!==r||e[4]!==a||e[5]!==s?(n={queryKey:r,queryFn:a,enabled:s},e[3]=r,e[4]=a,e[5]=s,e[6]=n):n=e[6];const{data:l,error:i,isLoading:o}=R(n);let d;return e[7]!==l||e[8]!==i||e[9]!==o?(d={productData:l,productError:i,productLoading:o},e[7]=l,e[8]=i,e[9]=o,e[10]=d):d=e[10],d},H=()=>{const t=N.c(4),e=z(),r=e!=null&&e.id?Number(e.id):void 0,{productLoading:a,productError:s,productData:n}=O(r);let l;return t[0]!==n||t[1]!==s||t[2]!==a?(l={productData:n,productError:s,productLoading:a},t[0]=n,t[1]=s,t[2]=a,t[3]=l):l=t[3],l},V=t=>{const e=N.c(3),{price:r,additionalClasses:a}=t,s=`text-primary ${a??""} bold`,n=`Price: $${r}`;let l;return e[0]!==s||e[1]!==n?(l=c.jsx("span",{className:s,children:n}),e[0]=s,e[1]=n,e[2]=l):l=e[2],l},G=t=>{const e=N.c(14),{dimensions:r}=t,{width:a,height:s,depth:n}=r;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx("p",{className:"text-lg",children:"Dimensions:"}),e[0]=l):l=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx("span",{className:"font-bold",children:"Width:"}),e[1]=i):i=e[1];let o;e[2]!==a?(o=c.jsxs("span",{className:"text-primary",children:[a," cm"]}),e[2]=a,e[3]=o):o=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx("span",{className:"font-bold",children:"Height:"}),e[4]=d):d=e[4];let u;e[5]!==s?(u=c.jsxs("span",{className:"text-primary",children:[s," cm"]}),e[5]=s,e[6]=u):u=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("span",{className:"font-bold",children:"Depth:"}),e[7]=m):m=e[7];let f;e[8]!==n?(f=c.jsxs("span",{className:"text-primary",children:[n," cm"]}),e[8]=n,e[9]=f):f=e[9];let p;return e[10]!==o||e[11]!==u||e[12]!==f?(p=c.jsxs("div",{className:"mb-4 border px-2",children:[l,c.jsxs("p",{className:"mb-4 grid grid-cols-2 grid-rows-3",children:[i,o,d,u,m,f]})]}),e[10]=o,e[11]=u,e[12]=f,e[13]=p):p=e[13],p},J=t=>{const e=N.c(3),{warranty:r}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx("span",{className:"font-bold",children:"Warranty: "}),e[0]=a):a=e[0];let s;return e[1]!==r?(s=c.jsxs("p",{className:"grid-cols-2 w-full grid justify-between mb-2",children:[a,c.jsx("span",{className:"text-primary",children:r})]}),e[1]=r,e[2]=s):s=e[2],s},A={default:{star:"text-foreground",emptyStar:"text-muted-foreground"},destructive:{star:"text-red-500",emptyStar:"text-red-200"},yellow:{star:"text-yellow-500",emptyStar:"text-yellow-200"}},T=({...t})=>{const{rating:e,totalstars:r=5,disabled:a=!1,size:s=20,fill:n=!0,icon:l=c.jsx(W,{}),variant:i="default",cb:o=()=>{},...d}=t,u=e%1>0,m=Math.floor(e),f=a?"opacity-20 pointer-events-none":"",p=u?c.jsx(X,{fillPercentage:e%1,size:s,className:$(A[i].star),icon:l,callback:()=>o(m+1)}):null;return c.jsxs("div",{className:$("flex items-center gap-2 cursor-pointer z-[1] relative "+f),...d,children:[[...Array(m)].map((h,x)=>S.cloneElement(l,{key:x,size:s,className:$(n?"fill-current":"fill-transparent",A[i].star),onClick:()=>o(x+1)})),p,[...Array(r-m-(p?1:0))].map((h,x)=>S.cloneElement(l,{key:x+m+1,size:s,className:$(A[i].emptyStar),onClick:()=>o(u?x+m+2:x+m+1)}))]})},X=t=>{const e=N.c(34);let r;e[0]!==t?({...r}=t,e[0]=t,e[1]=r):r=e[1];const{fillPercentage:a,size:s,className:n,icon:l,callback:i}=r,o=s===void 0?20:s;let d;e[2]!==i?(d=i===void 0?Y:i,e[2]=i,e[3]=d):d=e[3];const u=d;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m={position:"relative",display:"inline-block"},e[4]=m):m=e[4];let f;e[5]!==u?(f=()=>u(),e[5]=u,e[6]=f):f=e[6];let p;if(e[7]!==n||e[8]!==l||e[9]!==o){let y;e[11]!==n?(y=$("fill-transparent",n),e[11]=n,e[12]=y):y=e[12];let b;e[13]!==o||e[14]!==y?(b={width:o,height:o,className:y},e[13]=o,e[14]=y,e[15]=b):b=e[15],p=S.cloneElement(l,b),e[7]=n,e[8]=l,e[9]=o,e[10]=p}else p=e[10];const h=`${a*100}%`;let x;e[16]!==h?(x={position:"absolute",top:0,overflow:"hidden",width:h},e[16]=h,e[17]=x):x=e[17];let g;if(e[18]!==n||e[19]!==l||e[20]!==o){let y;e[22]!==n?(y=$("fill-current",n),e[22]=n,e[23]=y):y=e[23];let b;e[24]!==o||e[25]!==y?(b={width:o,height:o,className:y},e[24]=o,e[25]=y,e[26]=b):b=e[26],g=S.cloneElement(l,b),e[18]=n,e[19]=l,e[20]=o,e[21]=g}else g=e[21];let j;e[27]!==x||e[28]!==g?(j=c.jsx("div",{style:x,children:g}),e[27]=x,e[28]=g,e[29]=j):j=e[29];let v;return e[30]!==j||e[31]!==f||e[32]!==p?(v=c.jsxs("div",{style:m,onClick:f,children:[p,j]}),e[30]=j,e[31]=f,e[32]=p,e[33]=v):v=e[33],v};function Y(){}const Z=t=>{const e=N.c(31),{product:r,children:a}=t,{description:s,sku:n,brand:l,title:i,price:o,warrantyInformation:d,dimensions:u,category:m,rating:f}=r;let p;e[0]!==i?(p=c.jsx("h2",{className:"text-2xl text-gray-800 m-0 mb-2 font-bold",children:i}),e[0]=i,e[1]=p):p=e[1];let h;e[2]!==n?(h=c.jsx("p",{className:"text-lg text-gray-200 py-4",children:n}),e[2]=n,e[3]=h):h=e[3];const x=`Category: ${m}`;let g;e[4]!==x?(g=c.jsx("p",{className:"text-lg text-base ",children:x}),e[4]=x,e[5]=g):g=e[5];let j;e[6]!==l?(j=c.jsx("p",{className:"text-lg text-base font-bold",children:l}),e[6]=l,e[7]=j):j=e[7];let v;e[8]!==s?(v=c.jsx("p",{className:"text-primary text-primary py-2",children:s}),e[8]=s,e[9]=v):v=e[9];let y;e[10]!==u?(y=c.jsx(G,{dimensions:u}),e[10]=u,e[11]=y):y=e[11];let b;e[12]!==d?(b=c.jsx(J,{warranty:d}),e[12]=d,e[13]=b):b=e[13];let P;e[14]!==o?(P=c.jsx(V,{price:o,additionalClasses:"font-bold"}),e[14]=o,e[15]=P):P=e[15];let w;e[16]!==a?(w=a?c.jsx("section",{className:"my-8",children:a}):null,e[16]=a,e[17]=w):w=e[17];let _;e[18]!==f?(_=c.jsx(T,{rating:f}),e[18]=f,e[19]=_):_=e[19];let k;return e[20]!==p||e[21]!==w||e[22]!==_||e[23]!==h||e[24]!==g||e[25]!==j||e[26]!==v||e[27]!==y||e[28]!==b||e[29]!==P?(k=c.jsxs("section",{className:"p-2 w-2/3",children:[p,h,g,j,v,y,b,P,w,_]}),e[20]=p,e[21]=w,e[22]=_,e[23]=h,e[24]=g,e[25]=j,e[26]=v,e[27]=y,e[28]=b,e[29]=P,e[30]=k):k=e[30],k},ee=t=>{const e=N.c(4),{src:r,alt:a}=t,s=`image of ${a}`;let n;return e[0]!==a||e[1]!==r||e[2]!==s?(n=c.jsx(K,{title:a,loading:"lazy",src:r,alt:s}),e[0]=a,e[1]=r,e[2]=s,e[3]=n):n=e[3],n},E=(t,e)=>t.find(({productId:r})=>r===e),te=()=>{const t=N.c(9),e=q(),r=C(se),a=C(ne);let s;t[0]!==r||t[1]!==a||t[2]!==e?(s={mutationFn:re,onSuccess:async u=>{r(u);const m=[...a.map(ae),u.productId].join(",");e.refetchQueries({queryKey:["miniCart",m]})},onError:le},t[0]=r,t[1]=a,t[2]=e,t[3]=s):s=t[3];const{error:n,mutate:l,data:i,isPending:o}=I(s);let d;return t[4]!==n||t[5]!==l||t[6]!==i||t[7]!==o?(d={errorOnSave:n,onSaveAction:l,savedProduct:i,saving:o},t[4]=n,t[5]=l,t[6]=i,t[7]=o,t[8]=d):d=t[8],d};function se(t){return t.addToBasket}function ne(t){return t.basket}async function re(t){return(await B.post("basket",t)).data}function ae(t){return t.productId}async function le(t){console.error(t.message),L.error("Error on save product")}const oe=()=>{const t=N.c(8),e=q(),r=C(ce);let a;t[0]!==e||t[1]!==r?(a={mutationFn:ie,onSuccess:async d=>{const{basket:u}=d;r(u),e.invalidateQueries({queryKey:["miniCart"]})},onError:de},t[0]=e,t[1]=r,t[2]=a):a=t[2];const{error:s,mutate:n,data:l,isPending:i}=I(a);let o;return t[3]!==s||t[4]!==n||t[5]!==l||t[6]!==i?(o={onUpdateAction:n,updatedProduct:l,errorOnUpdate:s,updating:i},t[3]=s,t[4]=n,t[5]=l,t[6]=i,t[7]=o):o=t[7],o};function ce(t){return t.updateBasket}async function ie(t){return(await B.patch("basket",{productId:t.productId,quantity:t.quantity})).data}async function de(t){console.error(t.message),L.error("Error on save product")}const ue=()=>{const t=N.c(13),{addToBasket:e,basket:r,updateBasket:a}=C(),s=Q(me),{onUpdateAction:n,updating:l}=oe(),{onSaveAction:i,saving:o}=te();let d;t[0]!==e||t[1]!==r||t[2]!==s||t[3]!==i||t[4]!==n||t[5]!==a?(d=(x,g)=>{var y;const j=s?g?n:i:g?a:e,v=((y=E(r,x.productId))==null?void 0:y.quantity)||0;console.log(!!s,g,v+1),j({...x,quantity:v+1})},t[0]=e,t[1]=r,t[2]=s,t[3]=i,t[4]=n,t[5]=a,t[6]=d):d=t[6];const u=d;let m;t[7]!==r||t[8]!==u?(m=x=>{u(x,!!E(r,x.productId))},t[7]=r,t[8]=u,t[9]=m):m=t[9];const f=m,p=o||l;let h;return t[10]!==f||t[11]!==p?(h={addToCardAction:f,isLoading:p},t[10]=f,t[11]=p,t[12]=h):h=t[12],h};function me(t){return t.currentUser}const fe=t=>{const e=N.c(8),{additionalClasses:r,variant:a,product:s}=t,{addToCardAction:n,isLoading:l}=ue();let i;e[0]!==n||e[1]!==s.id?(i=()=>n({productId:s.id,quantity:1}),e[0]=n,e[1]=s.id,e[2]=i):i=e[2];const o=a??"default",d=`cursor-pointer ${r??""}`;let u;return e[3]!==l||e[4]!==i||e[5]!==o||e[6]!==d?(u=c.jsx(U,{onClick:i,variant:o,className:d,disabled:l,children:"Buy"}),e[3]=l,e[4]=i,e[5]=o,e[6]=d,e[7]=u):u=e[7],u},pe=t=>{const e=N.c(11),{product:r}=t;let a;e[0]!==r.images[0]||e[1]!==r.title?(a=c.jsx(ee,{src:r.images[0],alt:r.title}),e[0]=r.images[0],e[1]=r.title,e[2]=a):a=e[2];let s;e[3]!==r?(s=c.jsx(fe,{product:r,additionalClasses:"w-full"}),e[3]=r,e[4]=s):s=e[4];let n;e[5]!==r||e[6]!==s?(n=c.jsx(Z,{product:r,children:s}),e[5]=r,e[6]=s,e[7]=n):n=e[7];let l;return e[8]!==a||e[9]!==n?(l=c.jsxs("section",{className:"grid-cols-1 md:grid-cols-2 grid",children:[a,n]}),e[8]=a,e[9]=n,e[10]=l):l=e[10],l},xe=t=>{const e=N.c(5),{reviews:r}=t;if(!r||r.length===0)return null;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx("h2",{className:"text-2xl text-gray-800 m-0 mb-2 font-bold",children:"Product Reviews"}),e[0]=a):a=e[0];let s;e[1]!==r?(s=r.map(ye),e[1]=r,e[2]=s):s=e[2];let n;return e[3]!==s?(n=c.jsxs("section",{className:"p-2 w-2/3 border-t border-gray-200 mb-4 mx-auto",children:[a,s]}),e[3]=s,e[4]=n):n=e[4],n};function ye(t,e){return c.jsxs("div",{className:"border-b border-gray-200 py-4 w-full",children:[c.jsx("h3",{className:"text-lg font-bold",children:t.reviewerName}),c.jsx("p",{className:"text-base text-gray-600",children:t.comment}),c.jsx(T,{rating:t.rating,className:"text-yellow-500 w-full flex"})]},e)}const je=()=>{const t=N.c(11),{productData:e,productLoading:r,productError:a}=H();if(!e||a)return null;if(r){let o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx("div",{children:"Loading..."}),t[0]=o):o=t[0],o}let s;t[1]!==e.product.title?(s=c.jsx(F,{title:e.product.title}),t[1]=e.product.title,t[2]=s):s=t[2];let n;t[3]!==e.product?(n=c.jsx(pe,{product:e.product}),t[3]=e.product,t[4]=n):n=t[4];let l;t[5]!==e.product.reviews?(l=c.jsx(xe,{reviews:e.product.reviews}),t[5]=e.product.reviews,t[6]=l):l=t[6];let i;return t[7]!==s||t[8]!==n||t[9]!==l?(i=c.jsxs("article",{className:"page-enter",children:[s,n,l]}),t[7]=s,t[8]=n,t[9]=l,t[10]=i):i=t[10],i};export{je as default};
