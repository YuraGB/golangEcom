import{c as S,r as x,j as s}from"./index-Cz0sLFk-.js";const j=async t=>{const n=await(await fetch(t)).blob();return new Promise((i,a)=>{const r=new FileReader;r.readAsDataURL(n),r.onloadend=()=>i(r.result),r.onerror=a})};function y(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function k(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=y(n);return(a,r)=>i.then(c=>r(c.transaction(e,a).objectStore(e)))}let b;function w(){return b||(b=k("keyval-store","keyval")),b}function v(t,e=w()){return e("readonly",n=>y(n.get(t)))}function _(t,e,n=w()){return n("readwrite",i=>(i.put(e,t),y(i.transaction)))}function C(t,e=w()){return e("readwrite",n=>(n.delete(t),y(n.transaction)))}const E=t=>{const e=S.c(10),[n,i]=x.useState(!0),[a,r]=x.useState(t||"");let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=async f=>{try{const d=await v(f);if(d)r(d),i(!1);else{const h=await j(f);r(h),i(!1),await _(f,h)}}catch(d){console.error("Error loading image",d),i(!1)}},e[0]=c):c=e[0];const g=c;let m,u;e[1]!==t?(m=()=>{t&&g(t)},u=[t],e[1]=t,e[2]=m,e[3]=u):(m=e[2],u=e[3]),x.useEffect(m,u);let o;e[4]!==t?(o=async()=>{t&&(await C(t),await g(t))},e[4]=t,e[5]=o):o=e[5];const p=o;let l;return e[6]!==a||e[7]!==n||e[8]!==p?(l={loading:n,imageSrc:a,onErrorHandler:p,setLoading:i},e[6]=a,e[7]=n,e[8]=p,e[9]=l):l=e[9],l},M=()=>{const t=S.c(4);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={width:"100%",height:"auto",maxWidth:"300px",margin:"auto"},t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs("rect",{fill:"#c8c3c4",height:"40",width:"15",y:"30",x:"17.5",children:[s.jsx("animate",{begin:"-0.2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"18;30;30",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"y"}),s.jsx("animate",{begin:"-0.2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"64;40;40",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"height"})]}),t[1]=n):n=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs("rect",{fill:"#ddc1a4",height:"40",width:"15",y:"30",x:"42.5",children:[s.jsx("animate",{begin:"-0.1s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"20.999999999999996;30;30",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"y"}),s.jsx("animate",{begin:"-0.1s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"58.00000000000001;40;40",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"height"})]}),t[2]=i):i=t[2];let a;return t[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:e,children:s.jsxs("g",{children:[n,i,s.jsxs("rect",{fill:"#cdd5bb",height:"40",width:"15",y:"30",x:"67.5",children:[s.jsx("animate",{keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"20.999999999999996;30;30",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"y"}),s.jsx("animate",{keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",values:"58.00000000000001;40;40",keyTimes:"0;0.5;1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",attributeName:"height"})]}),s.jsx("g",{})]})}),t[3]=a):a=t[3],a},T=t=>{const e=S.c(16);let n,i,a;e[0]!==t?({src:a,alt:n,...i}=t,e[0]=t,e[1]=n,e[2]=i,e[3]=a):(n=e[1],i=e[2],a=e[3]);const{onErrorHandler:r,imageSrc:c,loading:g,setLoading:m}=E(a);if(g){let d;return e[4]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(M,{}),e[4]=d):d=e[4],d}const u=n||"Image";let o;e[5]!==m?(o=()=>m(!1),e[5]=m,e[6]=o):o=e[6];const p=g?0:1;let l;e[7]!==p?(l={opacity:p,transition:"opacity 0.3s ease"},e[7]=p,e[8]=l):l=e[8];let f;return e[9]!==c||e[10]!==r||e[11]!==i||e[12]!==u||e[13]!==o||e[14]!==l?(f=s.jsx("img",{...i,src:c,alt:u,onLoad:o,onError:r,style:l}),e[9]=c,e[10]=r,e[11]=i,e[12]=u,e[13]=o,e[14]=l,e[15]=f):f=e[15],f};export{T as C};
